{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardMarkup = ({\n  webformatURL: linkSmallImg,\n  largeImageURL: linkLargeImg,\n  tags: descriptionImg,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `\n    <li class=\"gallery-card\">\n        <img class=\"gallery-images\" src=\"${linkSmallImg}\" alt=\"${descriptionImg}\">\n        \n        <ul class=\"gallery-info\">\n          <li class=\"gallery-info-item\">\n            <p class=\"gallery-info-title\">Likes</p>\n            <p class=\"gallery-info-value\">${likes}</p>\n          </li>\n          <li class=\"gallery-info-item\">\n            <p class=\"gallery-info-title\">Views</p>\n            <p class=\"gallery-info-value\">${views}</p>\n          </li>\n          <li class=\"gallery-info-item\">\n            <p class=\"gallery-info-title\">Comments</p>\n            <p class=\"gallery-info-value\">${comments}</p>\n          </li>\n          <li class=\"gallery-info-item\">\n            <p class=\"gallery-info-title\">Downloads</p>\n            <p class=\"gallery-info-value\">${downloads}</p>\n          </li>\n        </ul>\n      </li>\n    `;\n};\n\n// <img class=\"gallery-images\" src=\"${linkLargeImg}\" alt=\"${descriptionImg}\">\n","export const fetchPhotosByQuery = query => {\n  const searchParameters = new URLSearchParams({\n    key: '49359014-7397220ae93b07f148b4c236e',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParameters}`).then(\n    response => {\n      // Error checking\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    }\n  );\n};\n","import { createGalleryCardMarkup } from './js/render-functions';\nimport { fetchPhotosByQuery } from './js/pixabay-api';\nimport iziToast from 'izitoast';\n\nconst refs = {\n  searchForm: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n};\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n  const query = event.currentTarget.elements.search_text.value.trim();\n  if (query === '') {\n    alert('Enter text in the search field');\n    return;\n  }\n  fetchPhotosByQuery(query)\n    .then(({ hits }) => {\n      if (hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message: 'Illegal operation',\n        });\n\n        // alert('Add box'); // додаємо повідомлення про те що такого значення немає\n        refs.searchForm.reset(); //clear form\n        refs.gallery.innerHTML = ''; // чистимо галерею\n        return;\n      }\n\n      const galleryCardsTemplate = hits\n        .map(img => createGalleryCardMarkup(img))\n        .join('');\n      refs.gallery.innerHTML = galleryCardsTemplate;\n    })\n\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nrefs.searchForm.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCardMarkup","linkSmallImg","linkLargeImg","descriptionImg","likes","views","comments","downloads","fetchPhotosByQuery","query","searchParameters","response","refs","onSearchFormSubmit","event","hits","iziToast","galleryCardsTemplate","img","err"],"mappings":"svBAAO,MAAMA,EAA0B,CAAC,CACtC,aAAcC,EACd,cAAeC,EACf,KAAMC,EACN,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA;AAAA,2CAEkCN,CAAY,UAAUE,CAAc;AAAA;AAAA;AAAA;AAAA;AAAA,4CAKnCC,CAAK;AAAA;AAAA;AAAA;AAAA,4CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,4CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,4CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,MC5BxCC,EAAqBC,GAAS,CACzC,MAAMC,EAAmB,IAAI,gBAAgB,CAC3C,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAgB,EAAE,EAAE,KAC3DC,GAAY,CAEV,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACjB,CACL,CACA,ECfMC,EAAO,CACX,WAAY,SAAS,cAAc,OAAO,EAC1C,QAAS,SAAS,cAAc,UAAU,CAC5C,EAEMC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EACpB,MAAML,EAAQK,EAAM,cAAc,SAAS,YAAY,MAAM,OAC7D,GAAIL,IAAU,GAAI,CAChB,MAAM,gCAAgC,EACtC,MACD,CACDD,EAAmBC,CAAK,EACrB,KAAK,CAAC,CAAE,KAAAM,KAAW,CAClB,GAAIA,EAAK,SAAW,EAAG,CACrBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,mBACnB,CAAS,EAGDJ,EAAK,WAAW,QAChBA,EAAK,QAAQ,UAAY,GACzB,MACD,CAED,MAAMK,EAAuBF,EAC1B,IAAIG,GAAOlB,EAAwBkB,CAAG,CAAC,EACvC,KAAK,EAAE,EACVN,EAAK,QAAQ,UAAYK,CAC/B,CAAK,EAEA,MAAME,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL,EAEAP,EAAK,WAAW,iBAAiB,SAAUC,CAAkB"}